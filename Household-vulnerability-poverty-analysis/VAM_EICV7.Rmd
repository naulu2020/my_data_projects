---
title: "VULNERABILITY ANALYSIS FROM HOUSEHOLD BUDGET SURVEY (RWANDA EICV7)"
author: "Nadine UWURUKUNDO"
date: "2026-02-06"
output:
  bookdown::word_document2:
    reference_docx: style_reference.docx
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
echo=FALSE,
message=FALSE,
warning=FALSE,
out.width="100%",
out.height="500px",
fig.align="center")
```


```{r echo=FALSE}
# Loading libraries to use
library('knitr')
library('tidyverse')
library('skimr')
library('recipes')
library('readr')
library ('haven')
library('survey')
library('scales')
library ('stringr')
library('ggplot2')
library('writexl')
library('bookdown')
```


```{r echo=FALSE, results='hide'}
# Setting global working directory for my files
setwd("C:\\UWURUKUNDO Nadine\\DATA ANALYTICS COURSES\\RWANDA HOUSEHOLD EXPENDITURE SURVEY 23-24 ANALYSIS")
getwd()
```

```{r echo=FALSE}
# Loading data file into 
data_eicv7 <- readRDS("hh_dataset_clean.rds") # 15054 observations
```

## Problem statement
Food security in Rwanda is shaped not only by food availability, but also by households’ ability to food access through markets and maintain adequate consumption levels. Despite noticeable progress in poverty reduction from 39.8% in 2017 to 27.4% in 2024 (NISR,2024), a significant share of households remains vulnerable to food insecurity due to low purchasing power, price fluctuations, and exposure to shocks. Using secondary data from the Integrated Household Living Conditions Survey (EICV 7) collected by Rwanda Statistics Office from October 2023-October 2024, this analysis applies a Vulnerability Analysis and Mapping (VAM) approach to examine household food consumption patterns and market access, with the aim of identifying population groups and geographic areas most at risk of food insecurity in Rwanda.

## Solution statement

The following tasks were done  to complete the project's implementation:

1.  Anomalies detection and correction through pre-processing steps

2.  Features engineering to improve data analysis and visualizations.

3.  Exploratory data analysis to generate insights from the household budget (EICV7)  data.

4.  Conclusion and recommendations.

## Methodology
The analysis uses data from the Integrated Household Living Conditions Survey (EICV 7), conducted by the National Institute of Statistics of Rwanda (NISR) between October 2023 and October 2024. Thanks goes to NISR for making the data publicly available for research and analytical purposes.

This study relies on household-level data covering all districts of Rwanda, making the dataset well suited for Vulnerability Analysis and Mapping (VAM) to assess household food consumption and market access. The analysis primarily draws on two datasets: the poverty file and the individual-level (personal) data, which together provide the key variables required for this assessment.

The report is structured around four main components: (i) demographic characteristics of households, (ii) poverty and welfare status, (iii) food access and food expenditure patterns, and (iv) the share of food expenditure across households. R programming was used for data cleaning, analysis, visualization, and report writing.

## Feature engineering
To support accurate analysis and meaningful results, rigorous data pre-processing and feature engineering were undertaken. This included handling data inconsistencies and creating new variables that are essential for the analysis. Key data preparation steps involved recoding and categorizing variables such as marital status, age groups, food expenditure share, and poverty status to facilitate vulnerability and comparative analysis.

## HOUSEHOLD & DEMOGRAPHIC PROFILE

This section presents a descriptive overview of key household and demographic characteristics, with a focus on the attributes of household heads. The analysis provides essential context for understanding household composition and demographic patterns that influence vulnerability, food consumption, and access to markets.

### Distribution of Households by Sex of Household Head

The descriptive analysis indicates that the majority of households in Rwanda are male-headed, with 73.8% of households led by males, compared to 26.2% led by females.
```{r echo=FALSE}
sex_summary <- data_eicv7 %>%
  group_by(sex) %>%
  summarise(
    weighted_n = sum(weight, na.rm = TRUE) ) %>%
  mutate( Percentage = round(weighted_n / sum(weighted_n) * 100, 1))


#plot
ggplot(sex_summary, aes(x = sex, y = Percentage)) +
  geom_col(fill = "#2C7FB8", width = 0.6) +
  geom_text(
    aes(label = paste0(Percentage, "%")),
    vjust = -0.4,
    size = 4
  ) +
  labs(
    title = "Distribution of Households by Sex of Household Head",
    x = NULL,
    y = NULL
  ) +
  ylim(0, 100) +
  theme_minimal() +
  theme(
    axis.text.y = element_blank(),
    axis.ticks.y = element_blank(),
    panel.grid = element_blank()
  )
```

### Household Size Distribution

The analysis shows that the average household size in Rwanda is approximately **4** members. Most households consist of **3–5** people, with the number of households declining gradually as household size increases. Very large households, with more than **8** members, are uncommon.

```{r  echo=FALSE}
hh_size_summary <- data_eicv7 %>%
  summarise(
    avg_hh_size = round(weighted.mean(hhsize2, weight, na.rm = TRUE), 2)
  )

#hh_size_summary # The average household size in Rwanda is nearly 4 people.
#plot
ggplot(data_eicv7, aes(x = hhsize2, weight = weight)) +
  geom_histogram(
    binwidth = 1,
    fill = "#74A9CF",
    color = "white"
  ) +
  labs(
    title = "Household Size Distribution",
    x = "Household size",
    y = NULL
  ) +
  scale_y_continuous(labels = comma) +  # adds commas for readability
  theme_minimal() +
  theme(panel.grid = element_blank())
```

### Urban vs Rural Household Distribution

The analysis shows that nearly three-quarters of respondents are from rural areas (**70.7%**), compared to just over one-quarter from urban areas(**29.3%**).

```{r echo=FALSE}
ur_summary <- data_eicv7 %>%
  group_by(region) %>%
  summarise(
    weighted_n = sum(weight, na.rm = TRUE)
  ) %>%
  mutate(
    Percentage = round(weighted_n / sum(weighted_n) * 100, 1)
  )

#ur_summary

#plot
ggplot(ur_summary, aes(x = region, y = Percentage)) +
  geom_col(fill = "#2C7FB8", width = 0.6) +
  geom_text(
    aes(label = paste0(Percentage, "%")),
    vjust = -0.4,
    size = 4
  ) +
  labs(
    title = "Distribution of Households by Area of Residence",
    x = NULL,
    y = NULL
  ) +
  ylim(0, 100) +
  theme(
    axis.text.y = element_blank(),
    axis.ticks.y = element_blank(),
    panel.grid = element_blank()
) 
```

### Distribution by marital status across sampled Head of Households

The distribution of households by age of household head shows that the majority are headed by individuals in the prime working-age group (25–49 years), accounting for 58.8% of households. This is followed by older working-age heads (50–64 years) at 21.6%, and elderly-headed households (65 years and above) at 15.2%. Youth-headed households (18–24 years) represent a small share, at 4.5%, indicating that household leadership in Rwanda is predominantly concentrated among mature and economically active age groups.Child-headed households (<18) exist in the sample but their weighted contribution is effectively zero.

```{r echo=FALSE}
age_summary <- data_eicv7 %>%
  filter(age_group != "Child-headed (<18)") %>%
  group_by(age_group) %>%
  summarise(weighted_n = sum(weight, na.rm = TRUE)) %>%
  mutate(Percentage = round(weighted_n / sum(weighted_n) * 100, 1))

#age_summary 

#plot 
ggplot(age_summary, aes(x = reorder(age_group, Percentage), y = Percentage)) +
  geom_col(fill = "#41B6C4", width = 0.6) +
  geom_text(
    aes(label = paste0(Percentage, "%")),
    hjust = -0.1,  # move labels slightly to the right of the bars
    size = 4
  ) +
  labs(
    title = "Distribution of Households by Age",
    x = NULL,
    y = NULL
  ) +
  coord_flip() +  # makes the bars horizontal
  ylim(0, 100) +
  theme(
    panel.grid = element_blank()
  )
```

### Household Poverty Status

The descriptive analysis indicated that bout three-quarters of households are non-poor **76.6%**, representing **2,520,229** households, while roughly one-quarter are poor **23.4%**, equivalent to **769,591** households, based on the weighted data.

```{r echo=FALSE}
poverty_summary <- data_eicv7 %>%  
  group_by(poor_binary)%>% 
  summarise(weighted_n=sum(weight,na.rm = TRUE)) %>%
  mutate(Percentage = round(weighted_n / sum(weighted_n) * 100, 1)) 

#poverty_summary

#plot

ggplot(poverty_summary, aes(x = "", y = Percentage, fill = poor_binary)) +
  geom_col(width = 1) +                       # Create bars for pie slices
  coord_polar(theta = "y") +                  # Convert bars to pie chart
  geom_text(aes(label = paste0(Percentage, "%")),
            position = position_stack(vjust = 0.5)) +  # Labels in the middle of slices
  scale_fill_manual(values = c("Non poor" = "#41B6C4", "Poor" = "#2C7FB8")) +  # Custom colors
  labs(title = "Distribution of Households by Poverty Status",
       fill = "Poverty Status") +
  theme_void()  

```

## POVERTY & WELFARE STATUS

This section analyses poverty and welfare status as key dimensions of household vulnerability. It examines poverty incidence and severity at the national level, highlights regional and rural–urban disparities, and explores the distribution of poor households across the country. The section further identifies the most vulnerable districts to inform targeted planning and policy interventions.

```{r echo=FALSE}
#weight setting
design_hh <- svydesign(
  ids = ~clust,
  weights = ~weight,
  data = data_eicv7,
  nest = TRUE
)
```

### National Poverty Incidence & Severity

The weighted national estimate indicates that poverty affects **0.5%** of all Rwandan households, with the vast majority of households **99.5%** classified as non-poor.

```{r echo=FALSE}
poverty_national <- svymean(~poor_bin_num, design_hh) %>%
  as.data.frame() %>%
  transmute(poor_perc = round(poor_bin_num * 100, 1),
            nonpoor_perc = round((1 - poor_bin_num) * 100, 1)
  ) 

view (poverty_national)
```

### Poverty incidence by region

Rural households not only constitute the majority of households in Rwanda, but also experience a higher incidence of poverty compared to urban households, highlighting persistent structural vulnerabilities in rural areas. The results indicate that the poverty rate in rural areas **27.4%** is approximately twice that observed in urban areas **13.7%**, while non-poverty is more prevalent among urban households.

```{r echo=FALSE}
poverty_ur <- svyby(
  ~poor_bin_num,
  ~region,
  design_hh,
  svymean
) %>%
  transmute(
    region,
    poor_perc = round(poor_bin_num * 100, 1),
    nonpoor_perc = round((1 - poor_bin_num) * 100, 1)
  )
# view(poverty_ur)

#plot
poverty_ur_long <- poverty_ur %>%
  pivot_longer(
    cols = c(poor_perc, nonpoor_perc),
    names_to = "poverty_status",
    values_to = "percentage"
  )
#poverty_ur_long

#clustered bar graph
ggplot(poverty_ur_long,
       aes(x = region, y = percentage, fill = poverty_status)) +
  geom_col(position = position_dodge(width = 0.7), width = 0.6) +
  geom_text(
    aes(label = paste0(percentage, "%")),
    position = position_dodge(width = 0.7),
    vjust = -0.3,
    size = 3
  ) +
  scale_fill_manual(
    values = c("poor_perc" = "#80B1D3", "nonpoor_perc" = "#41B6C4"),
    labels = c(
      "poor_perc" = "Poor",
      "nonpoor_perc" = "Non-poor"
    )) +
  labs(
    title = "Poverty Status by Region",
    x = NULL,
    y = "Percentage of households",
    fill = "Poverty status"
  ) +
  ylim(0, 100) +
  theme_minimal() +
  theme(
    panel.grid.major.x = element_blank(),
    panel.grid = element_blank()
  )  
```

### Distribution of Poor

The findings revealed that out of all poor households, **17.16% ** live in urban areas while **82.84%** live in rural areas.

```{r echo=FALSE}
poor_distribution <- svytable(
  ~region,
  subset(design_hh, poor_binary == "Poor")
) %>%
  as.data.frame() %>%
  transmute(region,
    percent = round(Freq / sum(Freq) * 100, 1))
```

```{r echo=FALSE}
poor_distribution %>%
  dplyr::mutate(
    percent = paste0(percent, "%")
  ) %>%
  knitr::kable(
    col.names = c("Region", " % Poor HH"),
    caption = "Poor Households by Region"
  )
```

### Poorest Districts

The analysis showed that the top 10 districts with the highest poverty rates are led by Nyamagabe **44.1%**, followed by Gisagara **39.9%** and Nyanza **39.3%**. The remaining districts like Nyamasheke, Nyaruguru, Rusizi, Rutsiro, Kamonyi, Karongi, and Rubavu have poverty rates ranging from **38.8%** to **34.3%**. This highlights Nyamagabe and Gisagara as the most vulnerable districts in terms of poverty incidence.

```{r echo=FALSE}
district_poverty <- svyby(
  ~poor_bin_num,
  ~District,
  design_hh,
  svymean,
  na.rm = TRUE
) %>%
  transmute(District,
    poverty_rate = round(poor_bin_num * 100, 1)
  ) %>%
  arrange(desc(poverty_rate)) %>%
  slice_head(n = 10) 

#view(district_poverty)

#plot
ggplot(district_poverty, aes(x = reorder(District, poverty_rate), y = poverty_rate)) +
  geom_col(fill = "#0072B2") +  
  geom_text(aes(label = paste0(poverty_rate, "%")), 
            hjust = -0.1, size = 4, color = "black") +  # add labels outside bars
  coord_flip() +  # horizontal bars
  labs(
    title = "Top 10 Poorest Districts",
    subtitle = "Weighted poverty rate per district (EICV7)",
    x = NULL,
    y = NULL,
    caption = "Source: EICV7, Weighted Estimates"
  ) +
  theme_minimal(base_size = 14) +
  theme(
    panel.grid.major.y = element_blank(),   # remove horizontal grid lines
    panel.grid.minor = element_blank(),
    axis.text.x = element_blank(),          # remove x-axis text
    axis.ticks.x = element_blank()
   
  ) +
  ylim(0, max(district_poverty$poverty_rate) * 1.1)
```

## Food Access & Food Expenditure Patterns

This section explores household food access and expenditure in Rwanda, including the distribution of households by food share category, mean per capita food expenditure by district, and food share patterns by sex of household head. The analysis highlights vulnerable populations and regions, providing insights for targeted interventions to improve food security and market access.

### Distribution of households by food share category

The results show that 39% of households allocate a moderate share of their budget to food (50–65%), 30% allocate a high share (65–75%), 19% allocate a low share (less than 50%), and 12% allocate a very high share, spending more than 75% of their total budget on food.

```{r echo=FALSE}
food_share_dist <- svytable(~food_share_cat, design_hh) %>%
  as.data.frame() %>%
  mutate(percent = round(Freq / sum(Freq) * 100, 1))

# Table view
#food_share_dist

#Plot
ggplot(food_share_dist, aes(x = reorder(food_share_cat, percent), y = percent)) +
  geom_col(fill = "#0072B2") +
  geom_text( aes(label = paste0(percent, "%")),hjust = -0.1,size = 4) +  # label slightly above the bar
  coord_flip() +
  labs(
    title = "Distribution of Households by Food Share Category",
    x = NULL,
    y = NULL,
    caption = "Source: EICV7"
  ) +
  scale_y_continuous(expand = expansion(mult = c(0, 0.15))) +  # add 15% extra space above bars
  theme_minimal(base_size = 12) +
  theme(
    panel.grid.major.y = element_blank(),
    panel.grid.minor = element_blank(),
    axis.text.x = element_blank(),
    panel.grid = element_blank()
  )  
```

### Mean per capita food expenditure by district

This analysis focuses on the ten districts with the lowest per capita food expenditure, revealing notable variation even among the most vulnerable areas. Per capita food spending in these districts ranges from approximately 236,000 RWF in Nyaruguru to about 300,000 RWF in Kayonza. Districts such as Nyaruguru and Gisagara record the lowest levels of food expenditure, indicating relatively limited capacity to meet food needs compared to other districts.

```{r echo=FALSE}
food_exp_district <- svyby(
  ~per_capita_food,
  ~District,
  design_hh,
  svymean,
  na.rm = TRUE
) %>%
  #mutate(per_capita_food_tsnd=round(per_capita_food/1000,0))%>%
  rename(mean_pc_food = per_capita_food) %>%
  arrange(mean_pc_food) %>%
  select(District, mean_pc_food) %>%
  slice_head(n = 10)  # Top 10 lowest

#food_exp_district

#plot
ggplot(food_exp_district, aes(x = reorder(District, mean_pc_food), y = mean_pc_food)) +
  geom_col(fill = "#0072B2") +
  geom_text(aes(label = format(round(mean_pc_food, 0), big.mark = ",")),hjust = -0.1, size = 3) +  # labels slightly above bars
  coord_flip() +
  labs(
    title = "Top 10 Districts with Lowest Mean Per Capita Food Expenditure",
    x = NULL,
    y = "Mean Per Capita Food Expenditure (RWF)",
    caption = "Source: EICV7"
  ) +
  scale_y_continuous(expand = expansion(mult = c(0, 0.15))) +  # add 15% space above bars
  theme_minimal(base_size = 10) +
  theme(
    panel.grid.major.y = element_blank(),
    panel.grid.minor = element_blank(),
     axis.text.x = element_blank(),    
    axis.ticks.x = element_blank() 
  )
```

### Food share categories by sex of household head

Analysis of food expenditure shares shows that male-headed households are more likely to allocate a higher proportion of their income to food, with **43.8%** falling in the high (65–75%) and very high (>75%) categories compared to **38.8%** of female-headed households. Conversely, female-headed households have a larger share in the low (<50%) and medium (50–65%) categories, representing 61.1% versus **56.5%** for male-headed households. This suggests that male-headed households may experience greater market dependency or vulnerability to food price fluctuations, while female-headed households appear to maintain relatively more balanced expenditure patterns, potentially due to smaller household size, diversified income, or better access to resources.

```{r echo=FALSE}
# Weighted crosstab: food_share_cat by sex
food_sex_tab <- svytable(~food_share_cat + sex, design_hh)
# Convert counts to percentages within sex
food_sex_percent <- prop.table(food_sex_tab, margin = 2) * 100

# Convert to data frame and clean
food_sex_df <- as.data.frame(food_sex_percent) %>%
  rename(percent = Freq) %>%
  mutate(percent = round(percent, 1))

# Pivot to wide format
food_sex_wide <- food_sex_df %>%
  pivot_wider(names_from = sex, values_from = percent)

# Save the dataset in Excel
write_xlsx(food_sex_wide, "food_sex_wide.xlsx")
```
```{r, echo=FALSE, out.width="70%"}
knitr::include_graphics("food_access_head.png")
```

## Conclusions 

The analysis of the EICV 7 dataset highlights significant disparities in household demographics, poverty, and food expenditure patterns across Rwanda. Male-headed households dominate (73.8%) and tend to spend a higher proportion of their income on food, suggesting greater vulnerability to market fluctuations. Female-headed households, while fewer, demonstrate relatively balanced expenditure patterns, likely due to smaller household size or diversified income sources. Rural households constitute the majority (70.7%) and experience higher poverty rates (27.4%) than urban households (13.7%), underscoring persistent structural vulnerabilities in rural areas. District-level analysis identifies Nyamagabe, Gisagara, and Nyanza as the most vulnerable in terms of poverty and low per capita food expenditure, indicating localized areas of heightened food insecurity risk. Overall, approximately 42% of households spend a high or very high share of their income on food, reflecting substantial pressure on household budgets and potential market dependence.

## Recommendations

Based on the findings of the analysis, a set of targeted recommendations has been proposed to address observed vulnerabilities in food expenditure, market access, and household welfare, with a focus on supporting the most at-risk districts, promoting gender-sensitive interventions, and enhancing the resilience of rural households to food insecurity and income fluctuations.

1.Targeted Support to Vulnerable Districts: Prioritize interventions in Nyamagabe, Gisagara, and Nyanza, focusing on improving food access and affordability.

2.Gender-Sensitive Programming: Develop strategies that address the higher food expenditure burden among male-headed households while supporting female-headed households’ economic resilience.

3.Rural Household Assistance: Implement programs aimed at rural areas where poverty and food vulnerability are highest, including food assistance, market access improvements, and income diversification initiatives.

4.Monitor Food Expenditure Trends: Track high food share households (>65%) to identify those at risk of food insecurity and design early-warning and safety-net measures.

5.Support Household Income Diversification: Encourage income-generating activities, particularly in rural and high-poverty districts, to reduce market dependency and enhance food security.



